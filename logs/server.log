{"time":"2025-07-05T00:01:04.543091+07:00","level":"INFO","msg":"[41c1d9d2-bd09-417c-8c2e-405fa3b8912d] --- Sending PING ---"}
{"time":"2025-07-05T00:01:04.543921+07:00","level":"INFO","msg":"[41c1d9d2-bd09-417c-8c2e-405fa3b8912d] --- PONG received, resetting read deadline ---"}
{"time":"2025-07-05T00:01:58.544952+07:00","level":"INFO","msg":"[41c1d9d2-bd09-417c-8c2e-405fa3b8912d] --- Sending PING ---"}
{"time":"2025-07-05T00:01:58.545965+07:00","level":"INFO","msg":"[41c1d9d2-bd09-417c-8c2e-405fa3b8912d] --- PONG received, resetting read deadline ---"}
{"time":"2025-07-05T00:02:52.546701+07:00","level":"INFO","msg":"[41c1d9d2-bd09-417c-8c2e-405fa3b8912d] --- Sending PING ---"}
{"time":"2025-07-05T00:02:52.548236+07:00","level":"INFO","msg":"[41c1d9d2-bd09-417c-8c2e-405fa3b8912d] --- PONG received, resetting read deadline ---"}
{"time":"2025-07-05T00:03:45.856581+07:00","level":"ERROR","msg":"[41c1d9d2-bd09-417c-8c2e-405fa3b8912d] Lỗi gửi audio chunk đến Google STT: EOF"}
{"time":"2025-07-05T00:03:45.857322+07:00","level":"INFO","msg":"[41c1d9d2-bd09-417c-8c2e-405fa3b8912d] Không nhận được transcript cuối cùng, bắt đầu lượt mới."}
{"time":"2025-07-05T00:03:46.04261+07:00","level":"INFO","msg":"[41c1d9d2-bd09-417c-8c2e-405fa3b8912d] Lượt mới: Đang lắng nghe..."}
{"time":"2025-07-05T00:03:46.548443+07:00","level":"INFO","msg":"[41c1d9d2-bd09-417c-8c2e-405fa3b8912d] --- Sending PING ---"}
{"time":"2025-07-05T00:03:46.553745+07:00","level":"INFO","msg":"[41c1d9d2-bd09-417c-8c2e-405fa3b8912d] --- PONG received, resetting read deadline ---"}
{"time":"2025-07-05T00:04:40.552949+07:00","level":"INFO","msg":"[41c1d9d2-bd09-417c-8c2e-405fa3b8912d] --- Sending PING ---"}
{"time":"2025-07-05T00:04:40.555994+07:00","level":"INFO","msg":"[41c1d9d2-bd09-417c-8c2e-405fa3b8912d] --- PONG received, resetting read deadline ---"}
{"time":"2025-07-05T00:04:50.896052+07:00","level":"INFO","msg":"[41c1d9d2-bd09-417c-8c2e-405fa3b8912d] Client đóng kết nối hoặc lỗi đọc: websocket: close 1000 (normal)"}
{"time":"2025-07-05T00:04:50.896591+07:00","level":"INFO","msg":"Context của request bị hủy, dừng goroutine ping."}
{"time":"2025-07-05T00:04:54.224814+07:00","level":"INFO","msg":"接收到系统信号: interrupt，开始优雅关闭服务"}
{"time":"2025-07-05T00:04:54.225218+07:00","level":"INFO","msg":"收到关闭信号，开始关闭HTTP服务..."}
{"time":"2025-07-05T00:04:54.225285+07:00","level":"INFO","msg":"收到关闭信号，开始关闭WebSocket服务..."}
{"time":"2025-07-05T00:04:54.226396+07:00","level":"INFO","msg":"正在关闭WebSocket服务器..."}
{"time":"2025-07-05T00:04:54.22695+07:00","level":"INFO","msg":"HTTP服务已优雅关闭"}
{"time":"2025-07-05T00:04:54.229482+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-05T00:04:54.230706+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-05T00:04:54.232548+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-05T00:04:54.232634+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-05T00:04:54.232681+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-05T00:04:54.232789+07:00","level":"INFO","msg":"服务器已正常关闭"}
{"time":"2025-07-05T00:04:54.232808+07:00","level":"INFO","msg":"所有服务已优雅关闭"}
{"time":"2025-07-05T00:04:54.23281+07:00","level":"INFO","msg":"WebSocket服务已优雅关闭"}
{"time":"2025-07-05T00:04:54.233026+07:00","level":"INFO","msg":"程序已成功退出"}
{"time":"2025-07-05T00:04:58.738875+07:00","level":"INFO","msg":"日志系统初始化成功, 配置文件路径: .config.yaml"}
{"time":"2025-07-05T00:04:58.739063+07:00","level":"INFO","msg":"连通性检查已禁用，跳过检查"}
{"time":"2025-07-05T00:04:58.739074+07:00","level":"INFO","msg":"=== 连通性检查报告 ==="}
{"time":"2025-07-05T00:04:58.73908+07:00","level":"INFO","msg":"=== 检查报告结束 ==="}
{"time":"2025-07-05T00:04:58.739116+07:00","level":"INFO","msg":"ASR资源池初始化成功，类型: GoogleSTT, 数量：5"}
{"time":"2025-07-05T00:04:58.741992+07:00","level":"INFO","msg":"LLM资源池初始化成功，类型: GeminiLLM, 数量：5"}
{"time":"2025-07-05T00:04:58.743486+07:00","level":"INFO","msg":"TTS资源池初始化成功，类型: GoogleTTS, 数量：5"}
{"time":"2025-07-05T00:04:58.743541+07:00","level":"INFO","msg":"VLLLM资源池初始化成功，类型: ChatGLMVLLM, 数量：5"}
{"time":"2025-07-05T00:04:58.74355+07:00","level":"INFO","msg":"开始初始化MCP资源池，请等待..."}
{"time":"2025-07-05T00:04:58.743582+07:00","level":"ERROR","msg":"预初始化MCP服务器失败: no valid MCP server configuration found"}
{"time":"2025-07-05T00:04:58.743594+07:00","level":"ERROR","msg":"预初始化MCP服务器失败: no valid MCP server configuration found"}
{"time":"2025-07-05T00:04:58.743605+07:00","level":"INFO","msg":"MCP资源池初始化成功，数量：2"}
{"time":"2025-07-05T00:04:58.743646+07:00","level":"INFO","msg":"连通性检查已禁用，跳过检查"}
{"time":"2025-07-05T00:04:58.743652+07:00","level":"INFO","msg":"=== 连通性检查报告 ==="}
{"time":"2025-07-05T00:04:58.743657+07:00","level":"INFO","msg":"=== 检查报告结束 ==="}
{"time":"2025-07-05T00:04:58.74367+07:00","level":"INFO","msg":"ASR资源池初始化成功，类型: GoogleSTT, 数量：5"}
{"time":"2025-07-05T00:04:58.743991+07:00","level":"INFO","msg":"LLM资源池初始化成功，类型: GeminiLLM, 数量：5"}
{"time":"2025-07-05T00:04:58.746166+07:00","level":"INFO","msg":"TTS资源池初始化成功，类型: GoogleTTS, 数量：5"}
{"time":"2025-07-05T00:04:58.746222+07:00","level":"INFO","msg":"VLLLM资源池初始化成功，类型: ChatGLMVLLM, 数量：5"}
{"time":"2025-07-05T00:04:58.746231+07:00","level":"INFO","msg":"开始初始化MCP资源池，请等待..."}
{"time":"2025-07-05T00:04:58.746248+07:00","level":"ERROR","msg":"预初始化MCP服务器失败: no valid MCP server configuration found"}
{"time":"2025-07-05T00:04:58.746259+07:00","level":"ERROR","msg":"预初始化MCP服务器失败: no valid MCP server configuration found"}
{"time":"2025-07-05T00:04:58.74627+07:00","level":"INFO","msg":"MCP资源池初始化成功，数量：2"}
{"time":"2025-07-05T00:04:58.746294+07:00","level":"INFO","msg":"WebSocket 服务已成功启动"}
{"time":"2025-07-05T00:04:58.746456+07:00","level":"INFO","msg":"VLLLM provider ChatGLMVLLM 初始化成功"}
{"time":"2025-07-05T00:04:58.746479+07:00","level":"INFO","msg":"Vision HTTP服务路由注册完成"}
{"time":"2025-07-05T00:04:58.746449+07:00","level":"INFO","msg":"启动WebSocket服务器 ws://0.0.0.0:8000..."}
{"time":"2025-07-05T00:04:58.746524+07:00","level":"INFO","msg":"Gin 服务已启动，访问地址: http://0.0.0.0:8080"}
{"time":"2025-07-05T00:05:04.633603+07:00","level":"INFO","msg":"Nhận được yêu cầu kết nối WebSocket mới đến /conversation (LIVE)"}
{"time":"2025-07-05T00:05:04.633936+07:00","level":"INFO","msg":"Bắt đầu phiên hội thoại với ID: 41fc6b56-d86f-4a0e-8fe8-e984172f982e"}
{"time":"2025-07-05T00:05:04.633965+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:05:05.004375+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:05:07.918255+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"Hello.\""}
{"time":"2025-07-05T00:05:08.502918+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"Hello.\""}
{"time":"2025-07-05T00:05:09.149052+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] FINAL Transcript: \"Hello.\""}
{"time":"2025-07-05T00:05:09.18135+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:05:10.915538+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Gemini trả lời: \"Hi! Welcome. I'm Alex. I will help you with your English. It's nice to meet you.\n\nAre you ready to start learning today? What would you like to learn?\n\""}
{"time":"2025-07-05T00:05:10.915701+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:05:12.574717+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:05:12.574813+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:05:12.697255+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:05:23.358852+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"You.\""}
{"time":"2025-07-05T00:05:23.549232+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"You can.\""}
{"time":"2025-07-05T00:05:23.965593+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"You can stop.\""}
{"time":"2025-07-05T00:05:24.005466+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"You\""}
{"time":"2025-07-05T00:05:24.184943+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"You can\""}
{"time":"2025-07-05T00:05:24.371529+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"You can\""}
{"time":"2025-07-05T00:05:24.4515+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"You can\""}
{"time":"2025-07-05T00:05:24.557177+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"You can stop\""}
{"time":"2025-07-05T00:05:24.696345+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"You can stop\""}
{"time":"2025-07-05T00:05:24.776745+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"You can stop\""}
{"time":"2025-07-05T00:05:25.050733+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"You can stop using\""}
{"time":"2025-07-05T00:05:25.248986+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"You can stop using for\""}
{"time":"2025-07-05T00:05:25.344806+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"You can stop using for me.\""}
{"time":"2025-07-05T00:05:27.858042+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] FINAL Transcript: \"You can stop using for me.\""}
{"time":"2025-07-05T00:05:27.884753+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:05:28.881938+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Gemini trả lời: \"Okay, I understand. I will **stop using it for you**.\n\nWhat would you like to learn today? We can talk about many things. For example, we could talk about:\n\n*   Greetings (like \"hello\" and \"goodbye\")\n*   Numbers\n*   The alphabet\n\nWhat do you think?\n\""}
{"time":"2025-07-05T00:05:28.882437+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:05:31.117133+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:05:31.118385+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:05:31.234935+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:05:47.385232+07:00","level":"ERROR","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lỗi gửi audio chunk tiếp theo đến Google STT: EOF"}
{"time":"2025-07-05T00:05:47.387376+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Không nhận được transcript cuối cùng, bắt đầu lượt mới."}
{"time":"2025-07-05T00:05:47.387421+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:05:53.071721+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:05:58.455148+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"Number.\""}
{"time":"2025-07-05T00:05:58.499624+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] FINAL Transcript: \"Number.\""}
{"time":"2025-07-05T00:05:58.587322+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:05:58.636346+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] --- Sending PING ---"}
{"time":"2025-07-05T00:05:59.275976+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Gemini trả lời: \"Okay, numbers! That's a great choice.\n\nLet's start with the numbers 1 to 10. Can you count from 1 to 10 in English?\n\""}
{"time":"2025-07-05T00:05:59.276209+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:06:00.923841+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:06:00.924006+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:06:00.924034+07:00","level":"INFO","msg":"PONG received, resetting read deadline."}
{"time":"2025-07-05T00:06:01.040144+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:06:10.362694+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"Okay.\""}
{"time":"2025-07-05T00:06:10.955976+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"Okay.\""}
{"time":"2025-07-05T00:06:14.343841+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] FINAL Transcript: \"Okay.\""}
{"time":"2025-07-05T00:06:14.386532+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:06:15.089516+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Gemini trả lời: \"Great! Please tell me the numbers from 1 to 10. I am ready to listen.\n\""}
{"time":"2025-07-05T00:06:15.090251+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:06:16.80038+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:06:16.800647+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:06:16.935689+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:06:25.355241+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"I'm\""}
{"time":"2025-07-05T00:06:25.701977+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"I'm ready.\""}
{"time":"2025-07-05T00:06:25.950805+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"I'm\""}
{"time":"2025-07-05T00:06:26.15211+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] FINAL Transcript: \"I'm ready.\""}
{"time":"2025-07-05T00:06:26.187149+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:06:27.09319+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Gemini trả lời: \"That's good! But I want to hear *you* say the numbers. Can you say \"one, two, three...\" all the way to ten?\n\nIt's okay if it's hard. I can help you.\n\""}
{"time":"2025-07-05T00:06:27.093636+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:06:29.277798+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:06:29.278075+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:06:29.403118+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:06:39.654462+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"Okay.\""}
{"time":"2025-07-05T00:06:40.242941+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"Okay.\""}
{"time":"2025-07-05T00:06:40.442802+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] FINAL Transcript: \"Okay.\""}
{"time":"2025-07-05T00:06:40.485121+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:06:41.147268+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Gemini trả lời: \"Great! Go ahead and say the numbers when you are ready. I am listening!\n\""}
{"time":"2025-07-05T00:06:41.147782+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:06:42.938189+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:06:42.938344+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:06:43.071837+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:06:52.638563+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] --- Sending PING ---"}
{"time":"2025-07-05T00:06:52.643149+07:00","level":"INFO","msg":"PONG received, resetting read deadline."}
{"time":"2025-07-05T00:06:54.001691+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"Number.\""}
{"time":"2025-07-05T00:06:54.28409+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"Number.\""}
{"time":"2025-07-05T00:06:54.309179+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] FINAL Transcript: \"Number.\""}
{"time":"2025-07-05T00:06:54.386837+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:06:55.252718+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Gemini trả lời: \"Yes, you are right! We are talking about **numbers**.\n\nNow, can you say the numbers? Like this:\n\nOne... two...\n\nCan you try?\n\""}
{"time":"2025-07-05T00:06:55.253517+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:06:57.345791+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:06:57.346026+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:06:57.476478+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:07:08.618697+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"1.\""}
{"time":"2025-07-05T00:07:09.700476+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"One, two.\""}
{"time":"2025-07-05T00:07:09.873338+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"One, two.\""}
{"time":"2025-07-05T00:07:10.144785+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] FINAL Transcript: \"One, two.\""}
{"time":"2025-07-05T00:07:10.189374+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:07:11.792428+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Gemini trả lời: \"Very good! You said \"one, two.\" Perfect!\n\nWhat comes after \"two\"?\n\""}
{"time":"2025-07-05T00:07:11.793009+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:07:15.191102+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:07:15.1927+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:07:15.857328+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:07:24.992958+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"Tree.\""}
{"time":"2025-07-05T00:07:25.046137+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"Tree.\""}
{"time":"2025-07-05T00:07:25.066493+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] FINAL Transcript: \"Tree.\""}
{"time":"2025-07-05T00:07:25.088028+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:07:25.914453+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Gemini trả lời: \"Good try! It sounds very similar.\n\nThe correct word is \"**three**\". Can you say \"three\"?\n\""}
{"time":"2025-07-05T00:07:25.914965+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:07:28.909878+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:07:28.91019+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:07:29.051759+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:07:37.416901+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"Tree tree.\""}
{"time":"2025-07-05T00:07:37.885269+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"Tree tree tree.\""}
{"time":"2025-07-05T00:07:37.964859+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"Tree tree\""}
{"time":"2025-07-05T00:07:38.464533+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] INTERIM Transcript: \"Tree tree tree.\""}
{"time":"2025-07-05T00:07:42.287811+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] FINAL Transcript: \"Tree tree, tree tree.\""}
{"time":"2025-07-05T00:07:42.391444+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:07:43.607754+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Gemini trả lời: \"Okay, I hear you saying \"tree\". \"Tree\" is a plant that grows in the ground.\n\nWe want to say the number \"3\". It sounds like \"tree\", but we spell it \"T-H-R-E-E\".\n\nCan you try to say \"**three**\" again? It's okay if it's difficult.\n\""}
{"time":"2025-07-05T00:07:43.608087+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:07:45.596123+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:07:45.596902+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:07:45.714548+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:07:46.639213+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] --- Sending PING ---"}
{"time":"2025-07-05T00:07:57.204711+07:00","level":"INFO","msg":"PONG received, resetting read deadline."}
{"time":"2025-07-05T00:08:00.188231+07:00","level":"ERROR","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lỗi gửi audio chunk tiếp theo đến Google STT: EOF"}
{"time":"2025-07-05T00:08:00.191824+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Không nhận được transcript cuối cùng, bắt đầu lượt mới."}
{"time":"2025-07-05T00:08:00.191871+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:08:00.402073+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:08:40.640849+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] --- Sending PING ---"}
{"time":"2025-07-05T00:08:40.642722+07:00","level":"INFO","msg":"PONG received, resetting read deadline."}
{"time":"2025-07-05T00:09:34.64273+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] --- Sending PING ---"}
{"time":"2025-07-05T00:09:34.64565+07:00","level":"INFO","msg":"PONG received, resetting read deadline."}
{"time":"2025-07-05T00:10:28.645122+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] --- Sending PING ---"}
{"time":"2025-07-05T00:10:28.647126+07:00","level":"INFO","msg":"PONG received, resetting read deadline."}
{"time":"2025-07-05T00:11:22.646504+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] --- Sending PING ---"}
{"time":"2025-07-05T00:11:22.647888+07:00","level":"INFO","msg":"PONG received, resetting read deadline."}
{"time":"2025-07-05T00:12:16.648256+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] --- Sending PING ---"}
{"time":"2025-07-05T00:12:16.651549+07:00","level":"INFO","msg":"PONG received, resetting read deadline."}
{"time":"2025-07-05T00:13:05.507808+07:00","level":"ERROR","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lỗi gửi audio chunk tiếp theo đến Google STT: EOF"}
{"time":"2025-07-05T00:13:05.508874+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Không nhận được transcript cuối cùng, bắt đầu lượt mới."}
{"time":"2025-07-05T00:13:05.508921+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:13:05.763859+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:13:10.649969+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] --- Sending PING ---"}
{"time":"2025-07-05T00:13:10.651646+07:00","level":"INFO","msg":"PONG received, resetting read deadline."}
{"time":"2025-07-05T00:14:04.688016+07:00","level":"INFO","msg":"[41fc6b56-d86f-4a0e-8fe8-e984172f982e] --- Sending PING ---"}
{"time":"2025-07-05T00:14:04.689854+07:00","level":"INFO","msg":"PONG received, resetting read deadline."}
{"time":"2025-07-05T00:14:16.386369+07:00","level":"INFO","msg":"接收到系统信号: interrupt，开始优雅关闭服务"}
{"time":"2025-07-05T00:14:16.387646+07:00","level":"INFO","msg":"收到关闭信号，开始关闭HTTP服务..."}
{"time":"2025-07-05T00:14:16.387651+07:00","level":"INFO","msg":"收到关闭信号，开始关闭WebSocket服务..."}
{"time":"2025-07-05T00:14:16.387744+07:00","level":"INFO","msg":"正在关闭WebSocket服务器..."}
{"time":"2025-07-05T00:14:16.387825+07:00","level":"INFO","msg":"HTTP服务已优雅关闭"}
{"time":"2025-07-05T00:14:16.38839+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-05T00:14:16.388481+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-05T00:14:16.388504+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-05T00:14:16.388525+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-05T00:14:16.388544+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-05T00:14:16.388598+07:00","level":"INFO","msg":"服务器已正常关闭"}
{"time":"2025-07-05T00:14:16.388607+07:00","level":"INFO","msg":"所有服务已优雅关闭"}
{"time":"2025-07-05T00:14:16.38862+07:00","level":"INFO","msg":"WebSocket服务已优雅关闭"}
{"time":"2025-07-05T00:14:16.388658+07:00","level":"INFO","msg":"程序已成功退出"}
{"time":"2025-07-05T00:15:43.776458+07:00","level":"INFO","msg":"日志系统初始化成功, 配置文件路径: .config.yaml"}
{"time":"2025-07-05T00:15:43.776936+07:00","level":"INFO","msg":"连通性检查已禁用，跳过检查"}
{"time":"2025-07-05T00:15:43.776961+07:00","level":"INFO","msg":"=== 连通性检查报告 ==="}
{"time":"2025-07-05T00:15:43.776969+07:00","level":"INFO","msg":"=== 检查报告结束 ==="}
{"time":"2025-07-05T00:15:43.777012+07:00","level":"INFO","msg":"ASR资源池初始化成功，类型: GoogleSTT, 数量：5"}
{"time":"2025-07-05T00:15:43.780391+07:00","level":"INFO","msg":"LLM资源池初始化成功，类型: GeminiLLM, 数量：5"}
{"time":"2025-07-05T00:15:43.781886+07:00","level":"INFO","msg":"TTS资源池初始化成功，类型: GoogleTTS, 数量：5"}
{"time":"2025-07-05T00:15:43.781938+07:00","level":"INFO","msg":"VLLLM资源池初始化成功，类型: ChatGLMVLLM, 数量：5"}
{"time":"2025-07-05T00:15:43.781947+07:00","level":"INFO","msg":"开始初始化MCP资源池，请等待..."}
{"time":"2025-07-05T00:15:43.782009+07:00","level":"ERROR","msg":"预初始化MCP服务器失败: no valid MCP server configuration found"}
{"time":"2025-07-05T00:15:43.782022+07:00","level":"ERROR","msg":"预初始化MCP服务器失败: no valid MCP server configuration found"}
{"time":"2025-07-05T00:15:43.782035+07:00","level":"INFO","msg":"MCP资源池初始化成功，数量：2"}
{"time":"2025-07-05T00:15:43.782279+07:00","level":"INFO","msg":"连通性检查已禁用，跳过检查"}
{"time":"2025-07-05T00:15:43.782363+07:00","level":"INFO","msg":"=== 连通性检查报告 ==="}
{"time":"2025-07-05T00:15:43.782388+07:00","level":"INFO","msg":"=== 检查报告结束 ==="}
{"time":"2025-07-05T00:15:43.78241+07:00","level":"INFO","msg":"ASR资源池初始化成功，类型: GoogleSTT, 数量：5"}
{"time":"2025-07-05T00:15:43.785513+07:00","level":"INFO","msg":"LLM资源池初始化成功，类型: GeminiLLM, 数量：5"}
{"time":"2025-07-05T00:15:43.786705+07:00","level":"INFO","msg":"TTS资源池初始化成功，类型: GoogleTTS, 数量：5"}
{"time":"2025-07-05T00:15:43.786754+07:00","level":"INFO","msg":"VLLLM资源池初始化成功，类型: ChatGLMVLLM, 数量：5"}
{"time":"2025-07-05T00:15:43.786762+07:00","level":"INFO","msg":"开始初始化MCP资源池，请等待..."}
{"time":"2025-07-05T00:15:43.786781+07:00","level":"ERROR","msg":"预初始化MCP服务器失败: no valid MCP server configuration found"}
{"time":"2025-07-05T00:15:43.786793+07:00","level":"ERROR","msg":"预初始化MCP服务器失败: no valid MCP server configuration found"}
{"time":"2025-07-05T00:15:43.786801+07:00","level":"INFO","msg":"MCP资源池初始化成功，数量：2"}
{"time":"2025-07-05T00:15:43.786823+07:00","level":"INFO","msg":"WebSocket 服务已成功启动"}
{"time":"2025-07-05T00:15:43.786921+07:00","level":"INFO","msg":"VLLLM provider ChatGLMVLLM 初始化成功"}
{"time":"2025-07-05T00:15:43.786947+07:00","level":"INFO","msg":"Vision HTTP服务路由注册完成"}
{"time":"2025-07-05T00:15:43.786984+07:00","level":"INFO","msg":"Gin 服务已启动，访问地址: http://0.0.0.0:8080"}
{"time":"2025-07-05T00:15:43.787145+07:00","level":"INFO","msg":"启动WebSocket服务器 ws://0.0.0.0:8000..."}
{"time":"2025-07-05T00:15:50.096409+07:00","level":"INFO","msg":"Nhận được yêu cầu kết nối WebSocket mới đến /conversation (LIVE)"}
{"time":"2025-07-05T00:15:50.096744+07:00","level":"INFO","msg":"Bắt đầu phiên hội thoại với ID: 70eb3aaf-bcb6-46c1-97c4-37c407e167bb"}
{"time":"2025-07-05T00:15:50.096923+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:15:51.121334+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:15:52.673652+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"Hello.\""}
{"time":"2025-07-05T00:15:53.265382+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"Hello.\""}
{"time":"2025-07-05T00:15:53.969431+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] FINAL Transcript: \"Hello.\""}
{"time":"2025-07-05T00:15:54.006617+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:15:55.704406+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Gemini trả lời: \"Hello! My name is Alex. I am happy to help you with your English today.\n\nHow are you today?\n\""}
{"time":"2025-07-05T00:15:55.70507+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:15:58.44818+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:15:58.449336+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:15:58.830972+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:16:08.078393+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I'm\""}
{"time":"2025-07-05T00:16:08.588116+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I'm good.\""}
{"time":"2025-07-05T00:16:08.775221+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] FINAL Transcript: \"\""}
{"time":"2025-07-05T00:16:08.807965+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Không nhận được transcript cuối cùng, bắt đầu lượt mới."}
{"time":"2025-07-05T00:16:08.808086+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:16:09.042754+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:16:14.301598+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I'm\""}
{"time":"2025-07-05T00:16:14.880807+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I'm\""}
{"time":"2025-07-05T00:16:15.301594+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I'm good.\""}
{"time":"2025-07-05T00:16:15.877581+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I'm good.\""}
{"time":"2025-07-05T00:16:18.298595+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] FINAL Transcript: \"I'm good.\""}
{"time":"2025-07-05T00:16:18.309843+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:16:19.056119+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Gemini trả lời: \"That's great! I'm good too.\n\nAre you ready to learn some English today? What would you like to talk about?\n\""}
{"time":"2025-07-05T00:16:19.057507+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:16:20.982068+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:16:20.982314+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:16:21.091327+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:16:28.969037+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I,\""}
{"time":"2025-07-05T00:16:29.380272+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I want.\""}
{"time":"2025-07-05T00:16:29.581769+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I\""}
{"time":"2025-07-05T00:16:29.67078+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I\""}
{"time":"2025-07-05T00:16:29.86977+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I\""}
{"time":"2025-07-05T00:16:29.967252+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I want\""}
{"time":"2025-07-05T00:16:30.258946+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I want to talk\""}
{"time":"2025-07-05T00:16:30.459643+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I want to talk about.\""}
{"time":"2025-07-05T00:16:30.688549+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I want to talk about\""}
{"time":"2025-07-05T00:16:30.988828+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I want to talk about\""}
{"time":"2025-07-05T00:16:31.562793+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"I want to talk about AI.\""}
{"time":"2025-07-05T00:16:31.598161+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] FINAL Transcript: \"I want to talk about AI.\""}
{"time":"2025-07-05T00:16:31.608948+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:16:32.479148+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Gemini trả lời: \"AI! That's a very interesting topic!\n\nDo you know any English words about AI already? Maybe words you have read or heard?\n\""}
{"time":"2025-07-05T00:16:32.47969+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:16:34.468287+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:16:34.469377+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:16:34.593268+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:16:44.099802+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] --- Sending PING ---"}
{"time":"2025-07-05T00:16:44.102415+07:00","level":"INFO","msg":"PONG received, resetting read deadline."}
{"time":"2025-07-05T00:16:45.585911+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"Play.\""}
{"time":"2025-07-05T00:16:45.89923+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"Play High.\""}
{"time":"2025-07-05T00:16:46.103753+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"East.\""}
{"time":"2025-07-05T00:16:46.29464+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"East Main.\""}
{"time":"2025-07-05T00:16:47.597016+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"In.\""}
{"time":"2025-07-05T00:16:47.719449+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"Until?\""}
{"time":"2025-07-05T00:16:47.917782+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"Intelligent.\""}
{"time":"2025-07-05T00:16:48.469153+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"Intelligent.\""}
{"time":"2025-07-05T00:16:50.292687+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] FINAL Transcript: \"Intelligent.\""}
{"time":"2025-07-05T00:16:50.310611+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:16:51.182527+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Gemini trả lời: \"\"Intelligent\" is a great word! Yes, AI is short for \"artificial intelligence\". So \"intelligent\" is very important to understanding AI.\n\nCan you use \"intelligent\" in a simple sentence?\n\""}
{"time":"2025-07-05T00:16:51.1841+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:16:53.12138+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:16:53.121518+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:16:53.23863+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:17:05.910577+07:00","level":"ERROR","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Lỗi gửi audio chunk tiếp theo đến Google STT: EOF"}
{"time":"2025-07-05T00:17:05.913374+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Không nhận được transcript cuối cùng, bắt đầu lượt mới."}
{"time":"2025-07-05T00:17:05.913492+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:17:06.125568+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:17:07.473914+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"No.\""}
{"time":"2025-07-05T00:17:08.062378+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"No.\""}
{"time":"2025-07-05T00:17:10.476814+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] FINAL Transcript: \"No.\""}
{"time":"2025-07-05T00:17:10.511376+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:17:11.436089+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Gemini trả lời: \"Okay, no problem! Here's an example:\n\n\"My dog is very intelligent. He can learn new tricks quickly.\"\n\nNow, can you think of another word that describes AI? It can be any word that comes to mind!\n\""}
{"time":"2025-07-05T00:17:11.438001+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:17:13.775431+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:17:13.776368+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:17:15.2603+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:17:25.811981+07:00","level":"ERROR","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Lỗi gửi audio chunk tiếp theo đến Google STT: EOF"}
{"time":"2025-07-05T00:17:25.813775+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Không nhận được transcript cuối cùng, bắt đầu lượt mới."}
{"time":"2025-07-05T00:17:25.813869+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:17:26.043989+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:17:38.101464+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] --- Sending PING ---"}
{"time":"2025-07-05T00:17:40.809688+07:00","level":"ERROR","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Lỗi gửi audio chunk tiếp theo đến Google STT: EOF"}
{"time":"2025-07-05T00:17:45.812695+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Không nhận được transcript cuối cùng, bắt đầu lượt mới."}
{"time":"2025-07-05T00:17:45.813882+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:17:45.971526+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:17:45.971834+07:00","level":"INFO","msg":"PONG received, resetting read deadline."}
{"time":"2025-07-05T00:17:46.600893+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"Okay.\""}
{"time":"2025-07-05T00:17:46.608407+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"Okay.\""}
{"time":"2025-07-05T00:17:46.613458+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] FINAL Transcript: \"Okay.\""}
{"time":"2025-07-05T00:17:46.713524+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:17:47.606082+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Gemini trả lời: \"Great! I'm ready when you are. Don't worry if it's not the \"perfect\" word. We can talk about it together.\n\""}
{"time":"2025-07-05T00:17:47.607009+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:17:49.234397+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:17:49.234509+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:17:49.362281+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:17:49.61872+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"Okay.\""}
{"time":"2025-07-05T00:17:49.692904+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] INTERIM Transcript: \"Okay.\""}
{"time":"2025-07-05T00:17:49.69808+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] FINAL Transcript: \"Okay.\""}
{"time":"2025-07-05T00:17:55.713287+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-05T00:17:56.652685+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Gemini trả lời: \"Okay! I understand. Thinking of new words can be hard. How about this: What can AI *do*? What is its job? This might help you think of a word to describe it.\n\""}
{"time":"2025-07-05T00:17:56.653164+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-05T00:17:58.428865+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Streaming TTS hoàn tất."}
{"time":"2025-07-05T00:17:58.429004+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-05T00:17:58.556738+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-05T00:18:32.101979+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] --- Sending PING ---"}
{"time":"2025-07-05T00:18:32.102935+07:00","level":"INFO","msg":"PONG received, resetting read deadline."}
{"time":"2025-07-05T00:18:35.829364+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Client đóng kết nối hoặc lỗi đọc: websocket: close 1000 (normal)"}
{"time":"2025-07-05T00:18:35.829821+07:00","level":"INFO","msg":"[70eb3aaf-bcb6-46c1-97c4-37c407e167bb] Context của request bị hủy, dừng goroutine ping."}
{"time":"2025-07-05T00:24:13.593623+07:00","level":"INFO","msg":"接收到系统信号: interrupt，开始优雅关闭服务"}
{"time":"2025-07-05T00:24:13.594349+07:00","level":"INFO","msg":"收到关闭信号，开始关闭HTTP服务..."}
{"time":"2025-07-05T00:24:13.594539+07:00","level":"INFO","msg":"HTTP服务已优雅关闭"}
{"time":"2025-07-05T00:24:13.59456+07:00","level":"INFO","msg":"收到关闭信号，开始关闭WebSocket服务..."}
{"time":"2025-07-05T00:24:13.594568+07:00","level":"INFO","msg":"正在关闭WebSocket服务器..."}
{"time":"2025-07-05T00:24:13.597258+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-05T00:24:13.598418+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-05T00:24:13.598865+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-05T00:24:13.5998+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-05T00:24:13.600207+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-05T00:24:13.600488+07:00","level":"INFO","msg":"服务器已正常关闭"}
{"time":"2025-07-05T00:24:13.600701+07:00","level":"INFO","msg":"所有服务已优雅关闭"}
{"time":"2025-07-05T00:24:13.600747+07:00","level":"INFO","msg":"WebSocket服务已优雅关闭"}
{"time":"2025-07-05T00:24:13.600847+07:00","level":"INFO","msg":"程序已成功退出"}
{"time":"2025-07-08T23:26:53.934284+07:00","level":"INFO","msg":"日志系统初始化成功, 配置文件路径: .config.yaml"}
{"time":"2025-07-08T23:26:53.936293+07:00","level":"INFO","msg":"连通性检查已禁用，跳过检查"}
{"time":"2025-07-08T23:26:53.93631+07:00","level":"INFO","msg":"=== 连通性检查报告 ==="}
{"time":"2025-07-08T23:26:53.936318+07:00","level":"INFO","msg":"=== 检查报告结束 ==="}
{"time":"2025-07-08T23:26:53.936368+07:00","level":"INFO","msg":"ASR资源池初始化成功，类型: GoogleSTT, 数量：5"}
{"time":"2025-07-08T23:26:53.942621+07:00","level":"INFO","msg":"LLM资源池初始化成功，类型: GeminiLLM, 数量：5"}
{"time":"2025-07-08T23:26:53.946258+07:00","level":"INFO","msg":"TTS资源池初始化成功，类型: GoogleTTS, 数量：5"}
{"time":"2025-07-08T23:26:53.946325+07:00","level":"INFO","msg":"VLLLM资源池初始化成功，类型: ChatGLMVLLM, 数量：5"}
{"time":"2025-07-08T23:26:53.946337+07:00","level":"INFO","msg":"开始初始化MCP资源池，请等待..."}
{"time":"2025-07-08T23:26:53.94641+07:00","level":"ERROR","msg":"预初始化MCP服务器失败: no valid MCP server configuration found"}
{"time":"2025-07-08T23:26:53.946428+07:00","level":"ERROR","msg":"预初始化MCP服务器失败: no valid MCP server configuration found"}
{"time":"2025-07-08T23:26:53.946443+07:00","level":"INFO","msg":"MCP资源池初始化成功，数量：2"}
{"time":"2025-07-08T23:26:53.94653+07:00","level":"INFO","msg":"连通性检查已禁用，跳过检查"}
{"time":"2025-07-08T23:26:53.946539+07:00","level":"INFO","msg":"=== 连通性检查报告 ==="}
{"time":"2025-07-08T23:26:53.946545+07:00","level":"INFO","msg":"=== 检查报告结束 ==="}
{"time":"2025-07-08T23:26:53.946556+07:00","level":"INFO","msg":"ASR资源池初始化成功，类型: GoogleSTT, 数量：5"}
{"time":"2025-07-08T23:26:53.947103+07:00","level":"INFO","msg":"LLM资源池初始化成功，类型: GeminiLLM, 数量：5"}
{"time":"2025-07-08T23:26:53.948557+07:00","level":"INFO","msg":"TTS资源池初始化成功，类型: GoogleTTS, 数量：5"}
{"time":"2025-07-08T23:26:53.948607+07:00","level":"INFO","msg":"VLLLM资源池初始化成功，类型: ChatGLMVLLM, 数量：5"}
{"time":"2025-07-08T23:26:53.948619+07:00","level":"INFO","msg":"开始初始化MCP资源池，请等待..."}
{"time":"2025-07-08T23:26:53.948637+07:00","level":"ERROR","msg":"预初始化MCP服务器失败: no valid MCP server configuration found"}
{"time":"2025-07-08T23:26:53.948653+07:00","level":"ERROR","msg":"预初始化MCP服务器失败: no valid MCP server configuration found"}
{"time":"2025-07-08T23:26:53.948665+07:00","level":"INFO","msg":"MCP资源池初始化成功，数量：2"}
{"time":"2025-07-08T23:26:53.948694+07:00","level":"INFO","msg":"WebSocket 服务已成功启动"}
{"time":"2025-07-08T23:26:53.948852+07:00","level":"INFO","msg":"VLLLM provider ChatGLMVLLM 初始化成功"}
{"time":"2025-07-08T23:26:53.948871+07:00","level":"INFO","msg":"Vision HTTP服务路由注册完成"}
{"time":"2025-07-08T23:26:53.948888+07:00","level":"INFO","msg":"启动WebSocket服务器 ws://0.0.0.0:8000..."}
{"time":"2025-07-08T23:26:53.948922+07:00","level":"INFO","msg":"Gin 服务已启动，访问地址: http://0.0.0.0:8080"}
{"time":"2025-07-08T23:26:58.583502+07:00","level":"INFO","msg":"Nhận được yêu cầu kết nối WebSocket mới đến /conversation (LIVE)"}
{"time":"2025-07-08T23:26:58.583769+07:00","level":"INFO","msg":"Bắt đầu phiên hội thoại với ID: 5e3ec874-159b-4951-944d-e6afb813d51b"}
{"time":"2025-07-08T23:26:58.583784+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-08T23:27:00.683064+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-08T23:27:02.245748+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Hello.\""}
{"time":"2025-07-08T23:27:02.827347+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Hello.\""}
{"time":"2025-07-08T23:27:03.524154+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] FINAL Transcript: \"Hello.\""}
{"time":"2025-07-08T23:27:03.609966+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-08T23:27:05.523936+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Gemini trả lời: \"Hi there! My name is Alex, and I am your English tutor. I am happy to help you learn. How are you today?\""}
{"time":"2025-07-08T23:27:05.524021+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-08T23:27:07.372878+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Streaming TTS hoàn tất."}
{"time":"2025-07-08T23:27:07.373219+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-08T23:27:07.373342+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Áp dụng speech adaptation với keywords: [greeting introduction]"}
{"time":"2025-07-08T23:27:07.628161+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-08T23:27:16.221026+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"I'm\""}
{"time":"2025-07-08T23:27:16.821245+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"I'm\""}
{"time":"2025-07-08T23:27:16.860454+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"I'm good.\""}
{"time":"2025-07-08T23:27:17.419957+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"I'm\""}
{"time":"2025-07-08T23:27:17.421972+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"I'm good.\""}
{"time":"2025-07-08T23:27:18.131058+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] FINAL Transcript: \"I'm good.\""}
{"time":"2025-07-08T23:27:18.211582+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-08T23:27:19.078472+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Gemini trả lời: \"That's great! Are you ready to learn some English today? What would you like to talk about?\""}
{"time":"2025-07-08T23:27:19.078862+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-08T23:27:20.714271+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Streaming TTS hoàn tất."}
{"time":"2025-07-08T23:27:20.714531+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-08T23:27:20.714654+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Áp dụng speech adaptation với keywords: [positive question ready]"}
{"time":"2025-07-08T23:27:20.945959+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-08T23:27:28.32648+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Number.\""}
{"time":"2025-07-08T23:27:28.922624+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Number.\""}
{"time":"2025-07-08T23:27:29.012342+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] FINAL Transcript: \"Number.\""}
{"time":"2025-07-08T23:27:29.111296+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-08T23:27:30.101404+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Gemini trả lời: \"Okay, numbers! That's a good choice. Do you want to learn how to count, or something else about numbers?\""}
{"time":"2025-07-08T23:27:30.101869+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-08T23:27:31.881585+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Streaming TTS hoàn tất."}
{"time":"2025-07-08T23:27:31.881735+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-08T23:27:31.881807+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Áp dụng speech adaptation với keywords: [numbers question]"}
{"time":"2025-07-08T23:27:32.229914+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-08T23:27:41.145156+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Learn.\""}
{"time":"2025-07-08T23:27:41.232873+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Learn how?\""}
{"time":"2025-07-08T23:27:41.338231+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Learn how to.\""}
{"time":"2025-07-08T23:27:41.711786+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Learn\""}
{"time":"2025-07-08T23:27:41.842488+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Learn how\""}
{"time":"2025-07-08T23:27:41.932011+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Learn how to\""}
{"time":"2025-07-08T23:27:42.410923+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Learn how to count.\""}
{"time":"2025-07-08T23:27:42.510942+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] FINAL Transcript: \"Learn how to count.\""}
{"time":"2025-07-08T23:27:42.611774+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-08T23:27:43.413031+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Gemini trả lời: \"Great! We can start with the numbers from one to ten. Are you ready?\""}
{"time":"2025-07-08T23:27:43.41343+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-08T23:27:45.055087+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Streaming TTS hoàn tất."}
{"time":"2025-07-08T23:27:45.055241+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-08T23:27:45.055326+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Áp dụng speech adaptation với keywords: [counting one to ten ready]"}
{"time":"2025-07-08T23:27:45.29211+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-08T23:27:50.824221+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"I'm\""}
{"time":"2025-07-08T23:27:51.012071+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"I'm ready.\""}
{"time":"2025-07-08T23:27:51.421423+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"I'm\""}
{"time":"2025-07-08T23:27:51.580839+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"I'm ready.\""}
{"time":"2025-07-08T23:27:51.703214+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] FINAL Transcript: \"I'm ready.\""}
{"time":"2025-07-08T23:27:51.711499+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-08T23:27:52.520274+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Gemini trả lời: \"Okay! Let's start. Repeat after me: One...\""}
{"time":"2025-07-08T23:27:52.520816+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-08T23:27:52.583978+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] --- Sending PING ---"}
{"time":"2025-07-08T23:27:54.069473+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Streaming TTS hoàn tất."}
{"time":"2025-07-08T23:27:54.069891+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-08T23:27:54.070119+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Áp dụng speech adaptation với keywords: [start one]"}
{"time":"2025-07-08T23:27:54.305112+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-08T23:27:54.305867+07:00","level":"INFO","msg":"PONG received, resetting read deadline."}
{"time":"2025-07-08T23:27:59.511747+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"On.\""}
{"time":"2025-07-08T23:27:59.833959+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"On.\""}
{"time":"2025-07-08T23:27:59.941041+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] FINAL Transcript: \"On.\""}
{"time":"2025-07-08T23:28:00.012876+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-08T23:28:00.907344+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Gemini trả lời: \"Good! One. Now, Two...\""}
{"time":"2025-07-08T23:28:00.907534+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-08T23:28:02.461925+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Streaming TTS hoàn tất."}
{"time":"2025-07-08T23:28:02.462064+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-08T23:28:02.462172+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Áp dụng speech adaptation với keywords: [pronunciation two]"}
{"time":"2025-07-08T23:28:02.771597+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-08T23:28:06.22438+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Two.\""}
{"time":"2025-07-08T23:28:06.741595+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Two.\""}
{"time":"2025-07-08T23:28:06.828453+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] FINAL Transcript: \"Two.\""}
{"time":"2025-07-08T23:28:06.911924+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-08T23:28:07.666425+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Gemini trả lời: \"Perfect! Two. Now, Three...\""}
{"time":"2025-07-08T23:28:07.666888+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-08T23:28:09.203503+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Streaming TTS hoàn tất."}
{"time":"2025-07-08T23:28:09.203638+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-08T23:28:09.203705+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Áp dụng speech adaptation với keywords: [perfect three]"}
{"time":"2025-07-08T23:28:09.430822+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-08T23:28:13.144766+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Three.\""}
{"time":"2025-07-08T23:28:13.708064+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Three.\""}
{"time":"2025-07-08T23:28:13.825261+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] FINAL Transcript: \"Three.\""}
{"time":"2025-07-08T23:28:13.911449+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-08T23:28:14.696524+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Gemini trả lời: \"Excellent! Three. Next is Four...\""}
{"time":"2025-07-08T23:28:14.696904+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-08T23:28:16.266486+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Streaming TTS hoàn tất."}
{"time":"2025-07-08T23:28:16.26676+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-08T23:28:16.266848+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Áp dụng speech adaptation với keywords: [excellent four]"}
{"time":"2025-07-08T23:28:16.505772+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-08T23:28:20.747144+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Four.\""}
{"time":"2025-07-08T23:28:21.13656+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] INTERIM Transcript: \"Call.\""}
{"time":"2025-07-08T23:28:21.213796+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] FINAL Transcript: \"Four.\""}
{"time":"2025-07-08T23:28:21.215002+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận transcript. Đang gọi LLM..."}
{"time":"2025-07-08T23:28:21.934628+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Gemini trả lời: \"Very good! Four. Then, Five...\""}
{"time":"2025-07-08T23:28:21.935225+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đang gọi TTS và streaming audio..."}
{"time":"2025-07-08T23:28:23.530146+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Streaming TTS hoàn tất."}
{"time":"2025-07-08T23:28:23.530281+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Lượt mới: Đang chờ audio đầu tiên từ client..."}
{"time":"2025-07-08T23:28:23.530344+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Áp dụng speech adaptation với keywords: [very good five]"}
{"time":"2025-07-08T23:28:23.782476+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Đã nhận audio đầu tiên. Bắt đầu stream tới Google STT..."}
{"time":"2025-07-08T23:28:28.779135+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Client đóng kết nối hoặc lỗi đọc: websocket: close 1000 (normal)"}
{"time":"2025-07-08T23:28:28.779698+07:00","level":"INFO","msg":"[5e3ec874-159b-4951-944d-e6afb813d51b] Context của request bị hủy, dừng goroutine ping."}
{"time":"2025-07-08T23:31:37.674193+07:00","level":"INFO","msg":"接收到系统信号: interrupt，开始优雅关闭服务"}
{"time":"2025-07-08T23:31:37.674919+07:00","level":"INFO","msg":"收到关闭信号，开始关闭HTTP服务..."}
{"time":"2025-07-08T23:31:37.674945+07:00","level":"INFO","msg":"收到关闭信号，开始关闭WebSocket服务..."}
{"time":"2025-07-08T23:31:37.67505+07:00","level":"INFO","msg":"正在关闭WebSocket服务器..."}
{"time":"2025-07-08T23:31:37.675177+07:00","level":"INFO","msg":"HTTP服务已优雅关闭"}
{"time":"2025-07-08T23:31:37.67737+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-08T23:31:37.677526+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-08T23:31:37.677573+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-08T23:31:37.677614+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-08T23:31:37.677655+07:00","level":"INFO","msg":"VLLLM Provider清理完成"}
{"time":"2025-07-08T23:31:37.677739+07:00","level":"INFO","msg":"服务器已正常关闭"}
{"time":"2025-07-08T23:31:37.677755+07:00","level":"INFO","msg":"所有服务已优雅关闭"}
{"time":"2025-07-08T23:31:37.677754+07:00","level":"INFO","msg":"WebSocket服务已优雅关闭"}
{"time":"2025-07-08T23:31:37.677859+07:00","level":"INFO","msg":"程序已成功退出"}
